<!DOCTYPE html>
<html>

<head>
    <title>Kooboo</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#0087c2">
    <script src="/_Admin/Scripts/lib/jquery.min.js"></script>
    <script src="/_Admin/Scripts/KoobooBase.js"></script>
    <script src="/_Admin/Scripts/Kooboo.VersionManager.js"></script>
    <script src="/_Admin/Scripts/Kooboo.BrowserInfo.js"></script>
    <script src="/_Admin/Scripts/lib/knockout.min.js"></script>
    <script src="/_Admin/Scripts/kooboo/text.js"></script>
    <link href="/_Admin/Styles/styles.css" rel="stylesheet" />
    <link href="/_Admin/Styles/custom.css" rel="stylesheet" />

    <!--<link href="/_Admin/Styles/jstree/style.min.css" rel="stylesheet">-->


    <link rel="Shortcut Icon" href="/_Admin/Images/favicon.ico">
    <meta charset="UTF-8">
</head>
<script>
</script>

<body style="overflow: hidden;">
    <style type="text/css">
        .mce-primary button {
            background-color: #206ea1;
        }
    </style>
    <div class="page-loading">
        <div class="content">
            <p><i class="fa fa-spinner fa-spin"></i>Loading...</p>
        </div>
    </div>
    <div id="main">
        <div class="block-fullscreen">
            <div class="block-visual-editor vertical">
                <div id="kbActionMenu" data-bind="component: { name: 'KoobooActionMenu',params:actionMenuConfig}"></div>

                <iframe id="iframe" class="kb-iframe" src="about:blank"></iframe>
            </div>
        </div>
        <kb-media-dialog params="data: mediaDialogData"></kb-media-dialog>
        <!--<div id="kbMediaGrid" data-kb-type="widgets/MediaGrid/MediaGrid" data-kb-option="_mediagridOption"></div>-->
        <div id="kbPagesPicker" data-kb-type="widgets/PagesPicker/PagesPicker" data-kb-option="_actionMenuOption"></div>
        <kb-label-dialog></kb-label-dialog>
    </div>
</body>

</html>
<script>
    (function() {
        Kooboo.loadJS([
            "/_Admin/Scripts/lib/lodash.min.js",
            "/_Admin/Scripts/lib/toastr.min.js",
            "/_Admin/Scripts/lib/jstree.min.js",
            "/_Admin/Scripts/lib/bootstrap.min.js",
            "/_Admin/Scripts/lib/codemirror/lib/codemirror.js",
            "/_Admin/Scripts/lib/codemirror/mode/xml/xml.js",
            "/_Admin/Scripts/lib/codemirror/mode/css/css.js",
            "/_Admin/Scripts/lib/codemirror/mode/javascript/javascript.js",
            "/_Admin/Scripts/lib/codemirror/mode/htmlmixed/htmlmixed.js",
            "/_Admin/Scripts/kobindings.codemirror.js",
            "/_Admin/Scripts/DataCache.js",
            "/_Admin/Scripts/app.js",
            "/_Admin/Scripts/kobindingsOverride.js",
            "/_Admin/Scripts/Kooboo.Route.js",
            "/_Admin/Scripts/kobindings.js",
            "/_Admin/Scripts/kooboo/EventBus.js",

            "/_Admin/Scripts/kooboo/Guid.js",
            "/_Admin/Scripts/kooboo/NodeType.js",
            //"/_Admin/Scripts/kooboo/Color.js",
            "/_Admin/Scripts/kooboo/charHelper.js",
            "/_Admin/Scripts/kooboo/commentManager.js",
            "/_Admin/Scripts/kooboo/ElementReader.js",
            "/_Admin/Scripts/kooboo/LanguageManager.js",
            "/_Admin/Scripts/kooboo/DateExtend.js",
            "/_Admin/Scripts/tool/KoobooToolTemplateManager.js",
            "/_Admin/Scripts/tool/KoobooTool.js",
            "/_Admin/Scripts/lib/knockout.mapping.min.js",
            "/_Admin/Scripts/lib/spectrum/spectrum-custom.js",
            "/_Admin/Scripts/lib/select2.min.js",
            "/_Admin/Scripts/lib/bootstrap-switch/bootstrap-switch.min.js",
            "/_Admin/Scripts/lib/touchspin/jquery.bootstrap-touchspin.min.js",
            "/_Admin/Scripts/lib/tinymce/tinymceInitPath.js",
            "/_Admin/Scripts/lib/tinymce/tinymce.min.js",
            "/_Admin/Scripts/lib/jquery.textarea_autosize.min.js",
            "/_Admin/Scripts/components/kb-media-dialog.js",
            "/_Admin/Scripts/components/kbLabelDialog.js",
            "/_Admin/Scripts/siteEditor/InlineEditorBase.js",
            "/_Admin/Scripts/siteEditor/widgets/base/Color.js",
            "/_Admin/Scripts/siteEditor/SiteEditorTypes.js",
            "/_Admin/Scripts/siteEditor/KoobooObjectManager.js",
            "/_Admin/Scripts/siteEditor/KoobooElementManager.js",
            "/_Admin/Scripts/siteEditor/DomOperation.js",
            "/_Admin/Scripts/siteEditor/DomOperationRepeater.js",
            "/_Admin/Scripts/siteEditor/editLogHelper.js",
            "/_Admin/Scripts/siteEditor/editLogMerge.js",
            "/_Admin/Scripts/siteEditor/editLogSplit.js",
            "/_Admin/Scripts/siteEditor/editLog.js",
            "/_Admin/Scripts/siteEditor/EditManager.js",
            "/_Admin/Scripts/siteEditor/CssPropertyAbbrManager.js",
            "/_Admin/Scripts/siteEditor/DomResourceManager.js",
            "/_Admin/Scripts/siteEditor/widgets/PluginTemplateManager.js",
            "/_Admin/Scripts/siteEditor/widgets/RenderHelper.js",
            "/_Admin/Scripts/siteEditor/widgets/base/Tags.js",
            "/_Admin/Scripts/siteEditor/widgets/base/PriorityCalculator.js",
            "/_Admin/Scripts/siteEditor/widgets/floatMenu/style/StyleEditorHelper.js",
            "/_Admin/Scripts/siteEditor/widgets/floatMenu/style/StyleBestRule.js",
            "/_Admin/Scripts/siteEditor/widgets/floatMenu/style/StyleRuleGenerator.js",
            "/_Admin/Scripts/siteEditor/widgets/floatMenu/style/StyleRuleManager.js",
            "/_Admin/Scripts/siteEditor/widgets/floatMenu/style/StylePseudoHelper.js",
            "/_Admin/Scripts/siteEditor/widgets/floatMenu/common/NewTags.js",
            "/_Admin/Scripts/siteEditor/widgets/floatMenu/common/NewDomService.js",
            "/_Admin/Scripts/siteEditor/widgets/floatMenu/common/NewCategory.js",
            "/_Admin/Scripts/siteEditor/widgets/floatMenu/common/NewRepeater.js",
            "/_Admin/Scripts/siteEditor/widgets/floatMenu/navMenu/NewMenuHelper.js",
            "/_Admin/Scripts/siteEditor/widgets/floatMenu/converter/ConvertersBase.js",
            "/_Admin/Scripts/siteEditor/widgets/floatMenu/converter/ConverterManager.js",
            "/_Admin/Scripts/siteEditor/widgets/KoobooPluginBase.js",
            "/_Admin/Scripts/siteEditor/widgets/KoobooPlainEditor.js",
            "/_Admin/Scripts/siteEditor/widgets/MenuItemBase.js",
            "/_Admin/Scripts/siteEditor/widgets/floatMenu/ToolBar.js",
            "/_Admin/Scripts/siteEditor/widgets/floatMenu/Moveable.js",
            "/_Admin/Scripts/siteEditor/widgets/floatMenu/FloatMenu.js",
            "/_Admin/Scripts/siteEditor/ShorthandPropertyManager.js",
            "/_Admin/Scripts/siteEditor/widgets/Dialog/PluginButton.js",
            "/_Admin/Scripts/siteEditor/widgets/Dialog/PluginFieldSet.js",
            "/_Admin/Scripts/siteEditor/widgets/Dialog/PluginSection.js",
            "/_Admin/Scripts/siteEditor/widgets/Dialog/PluginDialog.js",
            "/_Admin/Scripts/siteEditor/widgets/Dialog/PluginIframeDialog.js",
            "/_Admin/Scripts/siteEditor/widgets/PluginStyleEditor.js",
            "/_Admin/Scripts/siteEditor/widgets/menuPlugins/textEdit/PluginTextEdit.js",
            "/_Admin/Scripts/siteEditor/widgets/menuPlugins/copy/PluginCopy.js",
            "/_Admin/Scripts/siteEditor/widgets/menuPlugins/delete/PluginDelete.js",
            "/_Admin/Scripts/siteEditor/widgets/menuPlugins/editLink/PluginLinkPanel.js",
            "/_Admin/Scripts/siteEditor/widgets/menuPlugins/common/PluginImagePanel.js",
            "/_Admin/Scripts/siteEditor/widgets/menuPlugins/editImage/PluginEditImage.js",
            "/_Admin/Scripts/siteEditor/widgets/menuPlugins/replaceWithText/PluginTextPanel.js",
            "/_Admin/Scripts/siteEditor/widgets/menuPlugins/replaceWithImage/PluginReplaceWithImage.js",
            "/_Admin/Scripts/siteEditor/widgets/menuPlugins/editTableData/PluginTabelPanel.js",
            "/_Admin/Scripts/siteEditor/widgets/menuPlugins/editTreeData/PluginTreePanel.js",
            "/_Admin/Scripts/siteEditor/widgets/menuPlugins/editColor/PluginBlockColors.js",
            "/_Admin/Scripts/siteEditor/widgets/menuPlugins/editStyle/PluginFonts.js",
            "/_Admin/Scripts/siteEditor/widgets/menuPlugins/editStyle/PluginColors.js",
            "/_Admin/Scripts/siteEditor/widgets/menuPlugins/editStyle/PluginBackground.js",
            "/_Admin/Scripts/siteEditor/widgets/menuPlugins/editStyle/PluginStyle.js",
            "/_Admin/Scripts/siteEditor/widgets/menuPlugins/repeaterEdit/PluginRepeater.js",
            "/_Admin/Scripts/siteEditor/widgets/menuPlugins/repeaterCopy/PluginRepeaterCopy.js",
            "/_Admin/Scripts/siteEditor/widgets/menuPlugins/repeaterRemove/PluginRepeaterRemove.js",
            "/_Admin/Scripts/siteEditor/widgets/menuPlugins/editHtmlBlock/PluginHtmlBlock.js",
            "/_Admin/Scripts/siteEditor/widgets/menuPlugins/editMenu/PluginMenu.js",

            "/_Admin/Scripts/siteEditor/widgets/menuPlugins/converter/ConverterHelper.js",
            "/_Admin/Scripts/siteEditor/widgets/menuPlugins/converter/PluginConvertDataDialog.js",
            "/_Admin/Scripts/siteEditor/widgets/menuPlugins/converter/PluginConvertHtmlDialog.js",
            "/_Admin/Scripts/siteEditor/widgets/menuPlugins/converter/PluginConverterSetting.js",
            "/_Admin/Scripts/siteEditor/widgets/menuPlugins/converter/PluginConverterToolBar.js",
            "/_Admin/Scripts/siteEditor/widgets/menuPlugins/converter/PluginConverterLabel.js",
            "/_Admin/Scripts/siteEditor/widgets/menuPlugins/converter/PluginConverter.js",
            "/_Admin/Scripts/siteEditor/widgets/menuPlugins/bindVariable/PluginBindVariable.js",
            "/_Admin/Scripts/siteEditor/widgets/menuPlugins/directPage/PluginDirectPage.js",

            "/_Admin/Scripts/siteEditor/widgets/menuPlugins/actionMenu/PluginLinks.js",
            "/_Admin/Scripts/siteEditor/widgets/menuPlugins/actionMenu/PluginImages.js",
            "/_Admin/Scripts/siteEditor/widgets/menuPlugins/actionMenu/PluginColors.js",
            "/_Admin/Scripts/siteEditor/widgets/menuPlugins/actionMenu/PluginDragable.js",

            "/_Admin/Scripts/siteEditor/widgets/components/KoobooActionMenu.js",
            "/_Admin/Scripts/siteEditor/koobooSiteEditor.js"
        ]);
        Kooboo.loadCSS([
            "/_Admin/Scripts/lib/spectrum/spectrum.css",
            "/_Admin/Styles/select2/select2.css",
            "/_Admin/Scripts/lib/bootstrap-switch/bootstrap-switch.min.css",
            "/_Admin/Scripts/lib/touchspin/jquery.bootstrap-touchspin.min.css",
            "/_Admin/Scripts/lib/codemirror/lib/codemirror.css",
            "/_Admin/Styles/jstree/style.min.css"
        ]);
    })()
</script>
<script type="text/javascript">
    $(function() {
        //tinymce.DOM.events.domLoaded = true;
        var se = new Kooboo.InlineEditor.SiteEditor({
            iframeId: "iframe"
        });
        window.Kooboo.SiteEditor = se;
        var jsArr = [
            "/_Admin/Scripts/lib/tinymce/tinymce.min.js",
            "/_Admin/Scripts/siteEditor/widgets/KoobooPlainEditor.js",
            "/_Admin/Scripts/siteEditor/koobooSanbox.js",
        ];

        se.addJsToIframe(jsArr);
        ko.applyBindings(se, document.getElementById("main"));
    })
</script>